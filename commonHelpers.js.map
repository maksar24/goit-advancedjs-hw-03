{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_01CpbqxeCWY46DHHkvTE4IhORXHj0paah5YXqyDCzDLU1W8OHLbF5tQAW3KUzWio\";\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\n\nfunction fetchBreeds() {\n    return axios.get('/breeds')\n        .then(res => {\n            if(res.status !== 200) {\n                throw new Error(\"Ohh, something wrong\");\n            }\n            return res.data;\n    })\n};\n\nfunction fetchCatByBreed(breedId) {\n    return axios.get(`/images/search?breed_ids=${breedId}`)\n        .then(res => {\n            if(res.status !== 200) {\n                throw new Error(\"Ohh, something wrong\");\n            }\n            return res.data[0];\n        })\n};\n\nexport {\n    fetchBreeds,\n    fetchCatByBreed\n};","import SlimSelect from \"slim-select\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchBreeds, fetchCatByBreed } from \"./js/cat-api\";\n\nconst elements = {\n    select: document.querySelector(\".breed-select\"),\n    container: document.querySelector(\".container-select\"),\n    loader: document.querySelector(\".loader\"),\n    errorText: document.querySelector(\".error\"),\n    cardInfo: document.querySelector(\".cat-info\"),\n};\n\nconst customSelect = new SlimSelect({\n    select: elements.select,\n    data: [],\n});\n\nfetchBreeds()\n    .then(data => {\n        customSelect.setData(createOptions(data));\n        elements.container.classList.remove(\"hidden\");\n})\n    .catch(error => {\n        console.log(error.message);\n        iziToast.show({\n        title: \"❌\",\n        message: \"Oops! Something went wrong! Try reloading the page!\",\n        close: false,\n        timeout: 0,\n        theme: 'light',\n        color: '#b35c5c',\n        position: 'center',\n        progressBarColor: '#50ac86',\n      });\n})\n    .finally(() => {\n        elements.loader.classList.add(\"hidden\");\n});\n\nfunction createOptions(arr) {\n    const optionsList = arr.map(({ id, name }) => {\n        return { value: id, text: name }\n    });\n    optionsList.unshift({ 'placeholder': true, 'text': 'Choose a cat breed' });\n    return optionsList;\n};\n\nfunction handlerSubmitSelect(e) {\n    elements.loader.classList.remove(\"hidden\");\n    elements.cardInfo.innerHTML = \"\";\n    if (e.target.value === \"Choose a cat breed\") return;\n    fetchCatByBreed(elements.select.value)\n        .then(data => {\n            elements.cardInfo.innerHTML = createDescription(data);\n        })\n        .catch(error => {\n            console.log(error.message);\n            iziToast.show({\n            title: \"❌\",\n            message: \"Oops! Something went wrong! Try reloading the page!\",\n            messageSize: '48px',\n            close: false,\n            timeout: 0,\n            theme: 'light',\n            color: '#b35c5c',\n            position: 'center',\n            progressBarColor: '#50ac86',\n        });\n        })\n        .finally(() => {\n            elements.loader.classList.add(\"hidden\");\n        });\n};\n\nfunction createDescription({ url, breeds }) {\n    return `\n        <div class=\"picture-thumb\" >\n            <img class=\"picture\" src=\"${url}\" alt=\"\"${breeds[0].alt_names} width=\"500\">\n        </div>\n        <div class=\"container-info\">\n            <h1 class=\"title\">${breeds[0].name}</h1>\n            <p class=\"text\">${breeds[0].description}</p>\n            <h3 class=\"second-title\">Temperament:</h3>\n            <p class=\"text\"> ${breeds[0].temperament}</p>\n        </div>\n    `\n};\n\nelements.select.addEventListener(\"change\", handlerSubmitSelect);"],"names":["axios","fetchBreeds","res","fetchCatByBreed","breedId","elements","customSelect","SlimSelect","data","createOptions","error","iziToast","arr","optionsList","id","name","handlerSubmitSelect","e","createDescription","url","breeds"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAC7CA,EAAM,SAAS,QAAU,+BAEzB,SAASC,GAAc,CACnB,OAAOD,EAAM,IAAI,SAAS,EACrB,KAAKE,GAAO,CACT,GAAGA,EAAI,SAAW,IACd,MAAM,IAAI,MAAM,sBAAsB,EAE1C,OAAOA,EAAI,IACvB,CAAK,CACL,CAEA,SAASC,EAAgBC,EAAS,CAC9B,OAAOJ,EAAM,IAAI,4BAA4BI,GAAS,EACjD,KAAKF,GAAO,CACT,GAAGA,EAAI,SAAW,IACd,MAAM,IAAI,MAAM,sBAAsB,EAE1C,OAAOA,EAAI,KAAK,EAC5B,CAAS,CACT,CClBA,MAAMG,EAAW,CACb,OAAQ,SAAS,cAAc,eAAe,EAC9C,UAAW,SAAS,cAAc,mBAAmB,EACrD,OAAQ,SAAS,cAAc,SAAS,EACxC,UAAW,SAAS,cAAc,QAAQ,EAC1C,SAAU,SAAS,cAAc,WAAW,CAChD,EAEMC,EAAe,IAAIC,EAAW,CAChC,OAAQF,EAAS,OACjB,KAAM,CAAE,CACZ,CAAC,EAEDJ,EAAa,EACR,KAAKO,GAAQ,CACVF,EAAa,QAAQG,EAAcD,CAAI,CAAC,EACxCH,EAAS,UAAU,UAAU,OAAO,QAAQ,CACpD,CAAC,EACI,MAAMK,GAAS,CACZ,QAAQ,IAAIA,EAAM,OAAO,EACzBC,EAAS,KAAK,CACd,MAAO,IACP,QAAS,sDACT,MAAO,GACP,QAAS,EACT,MAAO,QACP,MAAO,UACP,SAAU,SACV,iBAAkB,SAC1B,CAAO,CACP,CAAC,EACI,QAAQ,IAAM,CACXN,EAAS,OAAO,UAAU,IAAI,QAAQ,CAC9C,CAAC,EAED,SAASI,EAAcG,EAAK,CACxB,MAAMC,EAAcD,EAAI,IAAI,CAAC,CAAE,GAAAE,EAAI,KAAAC,MACxB,CAAE,MAAOD,EAAI,KAAMC,CAAM,EACnC,EACD,OAAAF,EAAY,QAAQ,CAAE,YAAe,GAAM,KAAQ,oBAAoB,CAAE,EAClEA,CACX,CAEA,SAASG,EAAoBC,EAAG,CAC5BZ,EAAS,OAAO,UAAU,OAAO,QAAQ,EACzCA,EAAS,SAAS,UAAY,GAC1BY,EAAE,OAAO,QAAU,sBACvBd,EAAgBE,EAAS,OAAO,KAAK,EAChC,KAAKG,GAAQ,CACVH,EAAS,SAAS,UAAYa,EAAkBV,CAAI,CAChE,CAAS,EACA,MAAME,GAAS,CACZ,QAAQ,IAAIA,EAAM,OAAO,EACzBC,EAAS,KAAK,CACd,MAAO,IACP,QAAS,sDACT,YAAa,OACb,MAAO,GACP,QAAS,EACT,MAAO,QACP,MAAO,UACP,SAAU,SACV,iBAAkB,SAC9B,CAAS,CACT,CAAS,EACA,QAAQ,IAAM,CACXN,EAAS,OAAO,UAAU,IAAI,QAAQ,CAClD,CAAS,CACT,CAEA,SAASa,EAAkB,CAAE,IAAAC,EAAK,OAAAC,GAAU,CACxC,MAAO;AAAA;AAAA,wCAE6BD,YAAcC,EAAO,GAAG;AAAA;AAAA;AAAA,gCAGhCA,EAAO,GAAG;AAAA,8BACZA,EAAO,GAAG;AAAA;AAAA,+BAETA,EAAO,GAAG;AAAA;AAAA,KAGzC,CAEAf,EAAS,OAAO,iBAAiB,SAAUW,CAAmB"}